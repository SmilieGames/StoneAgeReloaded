(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,n){e.exports=n(346)},146:function(e,t,n){},148:function(e,t,n){},183:function(e,t){},346:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(15),i=n.n(r),c=(n(146),n(148),n(127)),o=n(140),u=n(129);function s(e){var t=0;for(var n in e)null!=e[n].currentCitizens&&(t+=e[n].currentCitizens);return t}function m(e){var t=0;for(var n in e)null!=e[n].foodProductionFactor&&(t+=e[n].foodProductionFactor*e[n].currentCitizens);return t}function E(e){var t=m(e),n=s(e),a=e.resources.food,l=n*e.factors.foodConsumptionPerCitizen;return a+t-l<=0?a+t-l:"+"+(t-l)/10}var h={addCitizens:function(e,t,n){e[n].currentCitizens<e[n].maxCitizens&&e.village.currentCitizens>0&&(e[n].currentCitizens++,e.village.currentCitizens--)},removeCitizens:function(e,t,n){e[n].currentCitizens>0&&(e[n].currentCitizens--,e.village.currentCitizens++)}},d={gathering:{label:"Gathering",description:"Unlocks fruits. Each person gathers 2 food per round.",active:!1,cost:0,requirements:[],enhancement:function(e){e.fruits.active=!0}},plants:{label:"Knowledge of Plants",description:"Fruits can hold 10 people more, also +1 food production / citizen",active:!1,cost:100,requirements:["gathering"],enhancement:function(e){e.fruits.foodProductionFactor+=1,e.fruits.maxCitizens+=10}},advancedGathering:{label:"Advanced Gathering",description:"Fruits can hold 30 people more",active:!1,cost:200,requirements:["plants"],enhancement:function(e){e.fruits.maxCitizens+=30}}},p=Object(u.Game)({setup:function(){return{maxCitizens:12,resources:{food:0,researchPoints:100,culture:0,production:0},fruits:{active:!1,currentCitizens:0,maxCitizens:12,foodProductionFactor:2},agrar:{active:!1,currentCitizens:0,maxCitizens:10,foodProductionFactor:2},mining:{active:!1,currentCitizens:0,maxCitizens:0,productionProductionFactor:2},religion:{active:!1,currentCitizens:0,maxCitizens:0,religionProductionFactor:2},village:{currentCitizens:8},technologies:d,factors:{foodConsumptionPerCitizen:1}}},moves:Object(o.a)({},h,{unlockTechnology:function(e,t,n){e.technologies[n].active=!0,e.technologies[n].enhancement(e)}},{calculate:function(e,t){for(var n in e.resources.food+=m(e),e)if(null!=e[n].currentCitizens)for(var a=0;a<e[n].currentCitizens;a++){if(!(e.resources.food>=e.factors.foodConsumptionPerCitizen)){e[n].currentCitizens=a;break}e.resources.food=e.resources.food-e.factors.foodConsumptionPerCitizen}for(;e.resources.food>=10&&s(e)<e.maxCitizens;)e.resources.food-=10,e.village.currentCitizens++;e.resources.food>10&&(e.resources.food=9)}})}),g=n(29),b=n(30),v=n(32),f=n(31),C=n(33),z=n(14),k=n(131),y=n.n(k),j=n(132),O=n.n(j),w=n(133),x=n.n(w),P=n(134),F=n.n(P),G=n(20),T=n.n(G),B=n(135),V=n.n(B),A=n(136),R=n.n(A),S=n(137),q=n.n(S),L=n(138),M=n.n(L),J=n(139),W=n.n(J),I=n(54),K=n.n(I),N=n(34),U=n.n(N),X=n(73),Y=n.n(X),$=n(35),D=n.n($),H=function(e){return l.a.createElement(U.a,{item:!0,xs:3,style:{height:"20vh"}},e.children)},Q=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(b.a)(t,[{key:"handleRemove",value:function(){this.props.removeFunction(this.props.station)}},{key:"handleAdd",value:function(){this.props.addFunction(this.props.station)}},{key:"render",value:function(){return l.a.createElement(K.a,{hidden:!this.props.visible,style:{marginTop:"10%",marginLeft:"20%",marginRight:"20%"}},l.a.createElement(Y.a,{variant:"h5",gutterBottom:!0},this.props.label),l.a.createElement(Y.a,{variant:"h6",gutterBottom:!0,style:{paddingBottom:"5%"}},!!this.props.removeFunction&&l.a.createElement(D.a,{style:{marginRight:"4%"},variant:"contained",size:"small",onClick:this.handleRemove.bind(this)},"-"),this.props.currentCitizens+(this.props.maxCitizen?" / "+this.props.maxCitizen:""),!!this.props.addFunction&&l.a.createElement(D.a,{style:{marginLeft:"4%"},variant:"contained",size:"small",onClick:this.handleAdd.bind(this)},"+")))}}]),t}(l.a.Component),Z=function(e){return l.a.createElement(U.a,{style:{backgroundColor:"lightGray",height:"600px",width:"1900px"},container:!0,spacing:0},l.a.createElement(H,null),l.a.createElement(H,null,l.a.createElement(Q,{label:"Agrar",currentCitizens:e.G.agrar.currentCitizens,maxCitizen:e.G.agrar.maxCitizens,visible:e.G.agrar.active,removeFunction:e.moves.removeCitizens,addFunction:e.moves.addCitizens,station:"agrar"})),l.a.createElement(H,null),l.a.createElement(H,null,l.a.createElement(Q,{label:"Culture"})),l.a.createElement(H,null),l.a.createElement(H,null,l.a.createElement(Q,{label:"Fruits",currentCitizens:e.G.fruits.currentCitizens,maxCitizen:e.G.fruits.maxCitizens,visible:e.G.fruits.active,removeFunction:e.moves.removeCitizens,addFunction:e.moves.addCitizens,station:"fruits"})),l.a.createElement(H,null),l.a.createElement(H,null,l.a.createElement(Q,{label:"Stone"})),l.a.createElement(H,null,l.a.createElement(Q,{label:"Village",currentCitizens:e.G.village.currentCitizens,visible:!0,station:"village"})),l.a.createElement(H,null,l.a.createElement(Q,{label:"Fishing"})),l.a.createElement(H,null),l.a.createElement(H,null))},_=n(130),ee=n.n(_),te=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(v.a)(this,Object(f.a)(t).call(this,e))).unlockTechnology=n.unlockTechnology.bind(Object(z.a)(Object(z.a)(n))),n.isClickable=n.isClickable.bind(Object(z.a)(Object(z.a)(n))),n.isActive=n.isActive.bind(Object(z.a)(Object(z.a)(n))),n.requirementsMet=n.requirementsMet.bind(Object(z.a)(Object(z.a)(n))),n.enoughResearchPoints=n.enoughResearchPoints.bind(Object(z.a)(Object(z.a)(n))),n}return Object(C.a)(t,e),Object(b.a)(t,[{key:"isClickable",value:function(){var e=this.props;return!!e.technologies[e.tech]&&!(this.isActive()||!this.requirementsMet()||!this.enoughResearchPoints())}},{key:"isActive",value:function(){var e=this.props;return e.technologies[e.tech].active}},{key:"requirementsMet",value:function(){var e=this.props,t=e.technologies,n=e.tech,a=!0;return t[n].requirements.forEach(function(e){if(!t[e].active)return a=!1,!1}),a}},{key:"enoughResearchPoints",value:function(){var e=this.props,t=e.technologies,n=e.tech;return this.props.G.resources.researchPoints>=t[n].cost}},{key:"unlockTechnology",value:function(){var e=this.props.tech;this.props.unlockFunction(e)}},{key:"render",value:function(){var e=this.props,t=e.technologies,n=e.tech;return t&&n?(console.log(t,n),l.a.createElement(ee.a,{title:t[n].description},l.a.createElement("div",null,l.a.createElement(D.a,{disabled:!this.isClickable(),onClick:this.unlockTechnology,variant:"contained",style:{marginTop:"10%",marginLeft:"20%",marginRight:"20%"}},t[n]?t[n].label:n)))):l.a.createElement(D.a,{variant:"contained",style:{marginTop:"10%",marginLeft:"20%",marginRight:"20%"}},this.props.label)}}]),t}(l.a.Component),ne=function(e){return l.a.createElement(U.a,{item:!0,xs:1,style:{height:"10vh",backgroundColor:""}},e.children)},ae=function(e){var t={G:e.G,unlockFunction:e.moves.unlockTechnology,technologies:e.G.technologies};return l.a.createElement(U.a,{container:!0,spacing:0,style:{backgroundColor:"lightGray",height:"600px",width:"1900px"}},l.a.createElement(ne,null,l.a.createElement(te,Object.assign({},t,{tech:"gathering"}))),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,{label:"crude stone tools"})),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,{label:"hunting"})),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,Object.assign({},t,{tech:"plants"}))),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,{label:"use of fire"})),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,{label:"fur clothing"})),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,{label:"improved stone tools"})),l.a.createElement(ne,null,l.a.createElement(te,{label:"primitive weapons"})),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,Object.assign({},t,{tech:"advancedGathering"}))),l.a.createElement(ne,null,l.a.createElement(te,{label:"religion"})),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,{label:"buidling of fire"})),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,{label:"thrown weapons"})),l.a.createElement(ne,null,l.a.createElement(te,{label:"trapping"})),l.a.createElement(ne,null,l.a.createElement(te,{label:"fishing"})),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,{label:"art"})),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,{label:"shelter"})),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,{label:"advanced stone tools"})),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,{label:"captive animals"})),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,{label:"agriculture"})),l.a.createElement(ne,null,l.a.createElement(te,{label:"adorment"})),l.a.createElement(ne,null,l.a.createElement(te,{label:"pottery"})),l.a.createElement(ne,null,l.a.createElement(te,{label:"architecture"})),l.a.createElement(ne,null,l.a.createElement(te,{label:"cloth outfit"})),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,{label:"component tools"})),l.a.createElement(ne,null,l.a.createElement(te,{label:"ranged weapons"})),l.a.createElement(ne,null,l.a.createElement(te,{label:"domest."})),l.a.createElement(ne,null,l.a.createElement(te,{label:"fish hooks"})),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,{label:"barter"})),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,{label:"PALACE"})),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null),l.a.createElement(ne,null,l.a.createElement(te,{label:"animal husbandry"})),l.a.createElement(ne,null,l.a.createElement(te,{label:"fishing nets"})),l.a.createElement(ne,null),l.a.createElement(ne,null))},le={Village:0,Technology:1,Buildings:2,Evolution:3},re=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={currentView:le.Village},n.onEndTurnButtonClicked=n.onEndTurnButtonClicked.bind(Object(z.a)(Object(z.a)(n))),n.renderScreen=n.renderScreen.bind(Object(z.a)(Object(z.a)(n))),n}return Object(C.a)(t,e),Object(b.a)(t,[{key:"onEndTurnButtonClicked",value:function(){this.props.moves.calculate(),this.props.events.endTurn()}},{key:"renderScreen",value:function(){switch(this.state.currentView){case le.Village:return l.a.createElement(Z,this.props);case le.Technology:return l.a.createElement(ae,this.props);default:return l.a.createElement("div",null)}}},{key:"renderTopBar",value:function(){return l.a.createElement(y.a,{position:"static",color:"default"},l.a.createElement(O.a,null,l.a.createElement(x.a,{id:"outlined-name",label:"Population / Max Population",value:s(this.props.G)+" / "+this.props.G.maxCitizens+" ("+E(this.props.G)+")",margin:"normal",variant:"outlined"})))}},{key:"renderBottomBar",value:function(e){var t=this;return l.a.createElement(F.a,{value:e,showLabels:!0},l.a.createElement(T.a,{label:"Village",icon:l.a.createElement(V.a,null),onClick:function(){return t.setState({currentView:le.Village})}}),l.a.createElement(T.a,{label:"Technology",icon:l.a.createElement(R.a,null),onClick:function(){return t.setState({currentView:le.Technology})}}),l.a.createElement(T.a,{label:"Buildings",icon:l.a.createElement(q.a,null),onClick:function(){return t.setState({currentView:le.Buildings})}}),l.a.createElement(T.a,{label:"Evolution",icon:l.a.createElement(M.a,null),onClick:function(){return t.setState({currentView:le.Evolution})}}),l.a.createElement(T.a,{disabled:!0}),l.a.createElement(T.a,{label:"End Turn",icon:l.a.createElement(W.a,{style:{color:"green"}}),onClick:this.onEndTurnButtonClicked}))}},{key:"render",value:function(){var e=this.state.currentView;return l.a.createElement("div",{className:"App",style:{padding:"2%"}},this.renderTopBar(),l.a.createElement("div",{style:{height:"60vh",overflowX:"scroll",overflowY:"scroll"}},this.renderScreen()),this.renderBottomBar(e))}}]),t}(a.Component),ie=Object(c.Client)({game:p,board:re,numPlayers:1});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[141,2,1]]]);
//# sourceMappingURL=main.971c0e94.chunk.js.map