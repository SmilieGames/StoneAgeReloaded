(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,n){e.exports=n(346)},146:function(e,t,n){},148:function(e,t,n){},183:function(e,t){},346:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(15),i=n.n(r),c=(n(146),n(148),n(127)),o=n(140),u=n(129);function s(e){var t=0;for(var n in e)null!=e[n].currentCitizens&&(t+=e[n].currentCitizens);return t}var m={addCitizens:function(e,t,n){e[n].currentCitizens<e[n].maxCitizens&&e.village.currentCitizens>0&&(e[n].currentCitizens++,e.village.currentCitizens--)},removeCitizens:function(e,t,n){e[n].currentCitizens>0&&(e[n].currentCitizens--,e.village.currentCitizens++)}},E={gathering:{label:"Gathering",description:"Unlocks fruits. Each person gathers 2 food per round.",active:!1,cost:0,requirements:[],enhancement:function(e){e.fruits.active=!0}},plants:{label:"Knowledge of Plants",description:"Fruits can hold 10 people more, also +1 food production / citizen",active:!1,cost:100,requirements:["gathering"],enhancement:function(e){e.fruits.foodProductionFactor+=1,e.fruits.maxCitizens+=10}},advancedGathering:{label:"Advanced Gathering",description:"",active:!1,cost:200,requirements:["plants"],enhancement:function(e){e.fruits.foodProductionFactor+=2}}},h={unlockTechnology:function(e,t,n){console.log(n),e.technologies[n].active=!0,e.technologies[n].enhancement(e)}},d=Object(u.Game)({setup:function(){return{maxCitizens:12,resources:{food:0,researchPoints:100,culture:0,production:0},fruits:{active:!1,currentCitizens:0,maxCitizens:12,foodProductionFactor:2},agrar:{active:!1,currentCitizens:0,maxCitizens:10,foodProductionFactor:2},mining:{active:!1,currentCitizens:0,maxCitizens:0,productionProductionFactor:2},religion:{active:!1,currentCitizens:0,maxCitizens:0,religionProductionFactor:2},village:{currentCitizens:8},technologies:E,factors:{foodConsumptionPerCitizen:1}}},moves:Object(o.a)({},m,h,{calculate:function(e,t){for(var n in e.resources.food+=function(e){var t=0;for(var n in e)null!=e[n].foodProductionFactor&&(t+=e[n].foodProductionFactor*e[n].currentCitizens);return t}(e),e)if(null!=e[n].currentCitizens)for(var a=0;a<e[n].currentCitizens;a++){if(!(e.resources.food>=e.factors.foodConsumptionPerCitizen)){e[n].currentCitizens=a;break}e.resources.food=e.resources.food-e.factors.foodConsumptionPerCitizen}for(;e.resources.food>=10&&s(e)<e.maxCitizens;)e.resources.food-=10,e.village.currentCitizens++;e.resources.food>10&&(e.resources.food=9)}})}),g=n(29),b=n(30),v=n(32),p=n(31),f=n(33),C=n(14),z=n(131),k=n.n(z),y=n(132),j=n.n(y),O=n(133),w=n.n(O),x=n(134),P=n.n(x),F=n(20),T=n.n(F),G=n(135),B=n.n(G),V=n(136),A=n.n(V),R=n(137),S=n.n(R),q=n(138),L=n.n(q),M=n(139),J=n.n(M),W=n(54),I=n.n(W),K=n(34),N=n.n(K),U=n(73),X=n.n(U),Y=n(35),$=n.n(Y),D=function(e){return l.a.createElement(N.a,{item:!0,xs:3,style:{height:"20vh"}},e.children)},H=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(b.a)(t,[{key:"handleRemove",value:function(){this.props.removeFunction(this.props.station)}},{key:"handleAdd",value:function(){this.props.addFunction(this.props.station)}},{key:"render",value:function(){return l.a.createElement(I.a,{hidden:!this.props.visible,style:{marginTop:"10%",marginLeft:"20%",marginRight:"20%"}},l.a.createElement(X.a,{variant:"h5",gutterBottom:!0},this.props.label),l.a.createElement(X.a,{variant:"h6",gutterBottom:!0,style:{paddingBottom:"5%"}},!!this.props.removeFunction&&l.a.createElement($.a,{style:{marginRight:"4%"},variant:"contained",size:"small",onClick:this.handleRemove.bind(this)},"-"),this.props.currentCitizens+(this.props.maxCitizen?" / "+this.props.maxCitizen:""),!!this.props.addFunction&&l.a.createElement($.a,{style:{marginLeft:"4%"},variant:"contained",size:"small",onClick:this.handleAdd.bind(this)},"+")))}}]),t}(l.a.Component),Q=function(e){return l.a.createElement(N.a,{style:{backgroundColor:"lightGray",height:"600px",width:"1900px"},container:!0,spacing:0},l.a.createElement(D,null),l.a.createElement(D,null,l.a.createElement(H,{label:"Agrar",currentCitizens:e.G.agrar.currentCitizens,maxCitizen:e.G.agrar.maxCitizens,visible:e.G.agrar.active,removeFunction:e.moves.removeCitizens,addFunction:e.moves.addCitizens,station:"agrar"})),l.a.createElement(D,null),l.a.createElement(D,null,l.a.createElement(H,{label:"Culture"})),l.a.createElement(D,null),l.a.createElement(D,null,l.a.createElement(H,{label:"Fruits",currentCitizens:e.G.fruits.currentCitizens,maxCitizen:e.G.fruits.maxCitizens,visible:e.G.fruits.active,removeFunction:e.moves.removeCitizens,addFunction:e.moves.addCitizens,station:"fruits"})),l.a.createElement(D,null),l.a.createElement(D,null,l.a.createElement(H,{label:"Stone"})),l.a.createElement(D,null,l.a.createElement(H,{label:"Village",currentCitizens:e.G.village.currentCitizens,visible:!0,station:"village"})),l.a.createElement(D,null,l.a.createElement(H,{label:"Fishing"})),l.a.createElement(D,null),l.a.createElement(D,null))},Z=n(130),_=n.n(Z),ee=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(v.a)(this,Object(p.a)(t).call(this,e))).unlockTechnology=n.unlockTechnology.bind(Object(C.a)(Object(C.a)(n))),n.isClickable=n.isClickable.bind(Object(C.a)(Object(C.a)(n))),n.isActive=n.isActive.bind(Object(C.a)(Object(C.a)(n))),n.requirementsMet=n.requirementsMet.bind(Object(C.a)(Object(C.a)(n))),n.enoughResearchPoints=n.enoughResearchPoints.bind(Object(C.a)(Object(C.a)(n))),n}return Object(f.a)(t,e),Object(b.a)(t,[{key:"isClickable",value:function(){var e=this.props;return!!e.technologies[e.tech]&&!(this.isActive()||!this.requirementsMet()||!this.enoughResearchPoints())}},{key:"isActive",value:function(){var e=this.props;return e.technologies[e.tech].active}},{key:"requirementsMet",value:function(){var e=this.props,t=e.technologies,n=e.tech,a=!0;return t[n].requirements.forEach(function(e){if(!t[e].active)return a=!1,!1}),a}},{key:"enoughResearchPoints",value:function(){var e=this.props,t=e.technologies,n=e.tech;return this.props.G.resources.researchPoints>=t[n].cost}},{key:"unlockTechnology",value:function(){var e=this.props.tech;this.props.unlockFunction(e)}},{key:"render",value:function(){var e=this.props,t=e.technologies,n=e.tech;return t&&n?(console.log(t,n),l.a.createElement(_.a,{title:t[n].description},l.a.createElement("span",null,l.a.createElement($.a,{disabled:!this.isClickable(),onClick:this.unlockTechnology,variant:"contained",style:{marginTop:"10%",marginLeft:"20%",marginRight:"20%"}},t[n]?t[n].label:n)))):l.a.createElement($.a,{variant:"contained",style:{marginTop:"10%",marginLeft:"20%",marginRight:"20%"}},n)}}]),t}(l.a.Component),te=function(e){return l.a.createElement(N.a,{item:!0,xs:1,style:{height:"10vh",backgroundColor:""}},e.children)},ne=function(e){var t={G:e.G,unlockFunction:e.moves.unlockTechnology,technologies:e.G.technologies};return l.a.createElement(N.a,{container:!0,spacing:0,style:{backgroundColor:"lightGray",height:"600px",width:"1900px"}},l.a.createElement(te,null,l.a.createElement(ee,Object.assign({},t,{tech:"gathering"}))),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,{label:"crude stone tools"})),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,{label:"hunting"})),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,Object.assign({},t,{tech:"plants"}))),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,{label:"use of fire"})),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,{label:"fur clothing"})),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,{label:"improved stone tools"})),l.a.createElement(te,null,l.a.createElement(ee,{label:"primitive weapons"})),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,Object.assign({},t,{tech:"advancedGathering"}))),l.a.createElement(te,null,l.a.createElement(ee,{label:"religion"})),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,{label:"buidling of fire"})),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,{label:"thrown weapons"})),l.a.createElement(te,null,l.a.createElement(ee,{label:"trapping"})),l.a.createElement(te,null,l.a.createElement(ee,{label:"fishing"})),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,{label:"art"})),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,{label:"shelter"})),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,{label:"advanced stone tools"})),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,{label:"captive animals"})),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,{label:"agriculture"})),l.a.createElement(te,null,l.a.createElement(ee,{label:"adorment"})),l.a.createElement(te,null,l.a.createElement(ee,{label:"pottery"})),l.a.createElement(te,null,l.a.createElement(ee,{label:"architecture"})),l.a.createElement(te,null,l.a.createElement(ee,{label:"cloth outfit"})),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,{label:"component tools"})),l.a.createElement(te,null,l.a.createElement(ee,{label:"ranged weapons"})),l.a.createElement(te,null,l.a.createElement(ee,{label:"domest."})),l.a.createElement(te,null,l.a.createElement(ee,{label:"fish hooks"})),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,{label:"barter"})),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,{label:"PALACE"})),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null),l.a.createElement(te,null,l.a.createElement(ee,{label:"animal husbandry"})),l.a.createElement(te,null,l.a.createElement(ee,{label:"fishing nets"})),l.a.createElement(te,null),l.a.createElement(te,null))},ae={Village:0,Technology:1,Buildings:2,Evolution:3},le=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(v.a)(this,Object(p.a)(t).call(this,e))).state={currentView:ae.Village},n.onEndTurnButtonClicked=n.onEndTurnButtonClicked.bind(Object(C.a)(Object(C.a)(n))),n.renderScreen=n.renderScreen.bind(Object(C.a)(Object(C.a)(n))),n}return Object(f.a)(t,e),Object(b.a)(t,[{key:"onEndTurnButtonClicked",value:function(){this.props.moves.calculate(),this.props.events.endTurn()}},{key:"renderScreen",value:function(){switch(this.state.currentView){case ae.Village:return l.a.createElement(Q,this.props);case ae.Technology:return l.a.createElement(ne,this.props);default:return l.a.createElement("div",null)}}},{key:"renderTopBar",value:function(){return l.a.createElement(k.a,{position:"static",color:"default"},l.a.createElement(j.a,null,l.a.createElement(w.a,{id:"outlined-name",label:"Population / Max Population",value:s(this.props.G)+" / "+this.props.G.maxCitizens,margin:"normal",variant:"outlined"})))}},{key:"renderBottomBar",value:function(e){var t=this;return l.a.createElement(P.a,{value:e,showLabels:!0},l.a.createElement(T.a,{label:"Village",icon:l.a.createElement(B.a,null),onClick:function(){return t.setState({currentView:ae.Village})}}),l.a.createElement(T.a,{label:"Technology",icon:l.a.createElement(A.a,null),onClick:function(){return t.setState({currentView:ae.Technology})}}),l.a.createElement(T.a,{label:"Buildings",icon:l.a.createElement(S.a,null),onClick:function(){return t.setState({currentView:ae.Buildings})}}),l.a.createElement(T.a,{label:"Evolution",icon:l.a.createElement(L.a,null),onClick:function(){return t.setState({currentView:ae.Evolution})}}),l.a.createElement(T.a,{disabled:!0}),l.a.createElement(T.a,{label:"End Turn",icon:l.a.createElement(J.a,{style:{color:"green"}}),onClick:this.onEndTurnButtonClicked}))}},{key:"render",value:function(){var e=this.state.currentView;return l.a.createElement("div",{className:"App",style:{padding:"2%"}},this.renderTopBar(),l.a.createElement("div",{style:{height:"60vh",overflowX:"scroll",overflowY:"scroll"}},this.renderScreen()),this.renderBottomBar(e))}}]),t}(a.Component),re=Object(c.Client)({game:d,board:le,numPlayers:1});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[141,2,1]]]);
//# sourceMappingURL=main.0e48aa9d.chunk.js.map